do nothing
[Modelarts Service Log]user: uid=1101(work) gid=1101(work) groups=1101(work)
[Modelarts Service Log]pwd: /home/work
[Modelarts Service Log]app_url: s3://zoey114/MA-01-15-18-26/code/
[Modelarts Service Log]boot_file: code/ASR.py
[Modelarts Service Log]log_url: /tmp/log/MA-01-15-18-26.log
[Modelarts Service Log]command: code/ASR.py --data_url=s3://zoey114/data_thchs30/data/ --train_url=s3://zoey114/MA-01-15-18-26/output/V0025/ --num_gpus=1
[Modelarts Service Log]MODELARTS_IPOIB_DEVICE: 
[Modelarts Service Log]dependencies_file_dir: /home/work/user-job-dir/code
[Modelarts Service Log][modelarts_create_log] modelarts-pipe found
[Modelarts Service Log]handle inputs of training job
INFO:root:Using MoXing-v1.17.3-4c644d5b
INFO:root:Using OBS-Python-SDK-3.20.7
[ModelArts Service Log][INFO][2021/01/16 23:07:45]: env MA_INPUTS is not found, skip the inputs handler
INFO:root:Using MoXing-v1.17.3-4c644d5b
INFO:root:Using OBS-Python-SDK-3.20.7
[ModelArts Service Log]2021-01-16 23:07:45,962 - modelarts-downloader.py[line:619] - INFO: Main: modelarts-downloader starting with Namespace(dst='./', recursive=True, skip_creating_dir=False, src='s3://zoey114/MA-01-15-18-26/code/', trace=False, type='common', verbose=False)
/home/work/user-job-dir
[Modelarts Service Log][modelarts_logger] modelarts-pipe found
INFO:root:Using MoXing-v1.17.3-4c644d5b
INFO:root:Using OBS-Python-SDK-3.20.7
Using TensorFlow backend.
语音模型建立完成！
WARNING:tensorflow:From /home/work/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
2021-01-16 23:07:52.729817: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
2021-01-16 23:07:52.909736: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x558348a9ab00 executing computations on platform CUDA. Devices:
2021-01-16 23:07:52.909773: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): Tesla V100-PCIE-32GB, Compute Capability 7.0
2021-01-16 23:07:52.927272: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3000000000 Hz
2021-01-16 23:07:52.927688: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x558348bb6440 executing computations on platform Host. Devices:
2021-01-16 23:07:52.927714: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
2021-01-16 23:07:52.927839: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1433] Found device 0 with properties: 
name: Tesla V100-PCIE-32GB major: 7 minor: 0 memoryClockRate(GHz): 1.38
pciBusID: 0000:21:01.0
totalMemory: 31.75GiB freeMemory: 31.44GiB
2021-01-16 23:07:52.927859: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0
2021-01-16 23:07:52.930044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-01-16 23:07:52.930068: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0 
2021-01-16 23:07:52.930074: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N 
2021-01-16 23:07:52.930167: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 30583 MB memory) -> physical GPU (device: 0, name: Tesla V100-PCIE-32GB, pci bus id: 0000:21:01.0, compute capability: 7.0)
WARNING:tensorflow:From /home/work/anaconda/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py:3733: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
声学模型参数：
[('is_training', True), ('learning_rate', 0.0008), ('vocab_size', 407)]
加载声学模型
mkdir: cannot create directory ‘logs’: File exists
[ModelArts Service Log]modelarts-pipe: will create log file /tmp/log/MA-01-15-18-26.log
[ModelArts Service Log]modelarts-pipe: will create log file /tmp/log/MA-01-15-18-26.log
[ModelArts Service Log]modelarts-pipe: will write log file /tmp/log/MA-01-15-18-26.log
[ModelArts Service Log]modelarts-pipe: param for max log length: 1073741824
[ModelArts Service Log]modelarts-pipe: param for whether exit on overflow: 0
声学模型参数：
[('is_training', True), ('learning_rate', 0.0008), ('vocab_size', 407)]
加载声学模型完成！
WARNING:tensorflow:From /cache/user-job-dir/code/language_model.py:28: dropout (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dropout instead.
WARNING:tensorflow:From /cache/user-job-dir/code/utils/reLayers.py:148: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
WARNING:tensorflow:From /cache/user-job-dir/code/utils/reLayers.py:211: conv1d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.conv1d instead.
WARNING:tensorflow:From /cache/user-job-dir/code/language_model.py:44: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /cache/user-job-dir/code/language_model.py:45: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2021-01-16 23:08:02.031970: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0
2021-01-16 23:08:02.032025: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-01-16 23:08:02.032032: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0 
2021-01-16 23:08:02.032037: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N 
2021-01-16 23:08:02.032109: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 30583 MB memory) -> physical GPU (device: 0, name: Tesla V100-PCIE-32GB, pci bus id: 0000:21:01.0, compute capability: 7.0)
加载语言模型
WARNING:tensorflow:From /home/work/anaconda/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
INFO:tensorflow:Restoring parameters from ./model_language/model_language
语言模型参数：
[('dropout_rate', 0.2), ('hidden_units', 512), ('input_vocab_size', 407), ('is_training', True), ('label_vocab_size', 487), ('learning_rate', 0.0008), ('max_length', 100), ('num_blocks', 6), ('num_heads', 8)]
加载语言模型完成！
示例 1
2021-01-16 23:08:03.741509: I tensorflow/stream_executor/dso_loader.cc:152] successfully opened CUDA library libcublas.so.10.0 locally
原文拼音： lv4 shi4 yang2 chun1 yan1 jing3 da4 kuai4 wen2 zhang1 de5 di3 se4 si4 yue4 de5 lin2 luan2 geng4 shi4 lv4 de5 xian1 huo2 xiu4 mei4 shi1 yi4 ang4 ran2
识别结果： 
示例 2
原文拼音： ta1 jin3 ping2 yao1 bu4 de5 li4 liang4 zai4 yong3 dao4 shang4 xia4 fan1 teng2 yong3 dong4 she2 xing2 zhuang4 ru2 hai3 tun2 yi4 zhi2 yi3 yi4 tou2 de5 you1 shi4 ling3 xian1
识别结果： te4 de5
示例 3
原文拼音： pao4 yan3 da2 hao3 le5 zha4 yao4 zen3 me5 zhuang1 yue4 zheng4 cai2 yao3 le5 yao3 ya2 shu1 de5 tuo1 qu4 yi1 fu5 guang1 bang3 zi5 chong1 jin4 le5 shui3 cuan4 dong4
识别结果： ding4
示例 4
原文拼音： ke3 shui2 zhi1 wen2 wan2 hou4 ta1 yi1 zhao4 jing4 zi5 zhi3 jian4 zuo3 xia4 yan2 jian3 de5 xian4 you4 cu1 you4 hei1 yu3 you4 ce4 ming2 xian3 bu2 dui4 chen4
识别结果： 
示例 5
原文拼音： qi1 shi2 nian2 dai4 mo4 wo3 wai4 chu1 qiu2 xue2 mu3 qin1 ding1 ning2 wo3 chi1 fan4 yao4 xi4 jiao2 man4 yan4 xue2 xi2 yao4 shen1 zuan1 xi4 yan2
识别结果： 
示例 6
原文拼音： yi2 jin4 men2 wo3 bei4 jing1 dai1 le5 zhe4 hu4 ming2 jiao4 pang2 ji2 de5 lao3 nong2 shi4 kang4 mei3 yuan2 chao2 fu4 shang1 hui2 xiang1 de5 lao3 bing1 qi1 zi5 chang2 nian2 you3 bing4 jia1 tu2 si4 bi4 yi4 pin2 ru2 xi3
识别结果： 
示例 7
原文拼音： zou3 chu1 cun1 zi5 lao2 yuan3 lao2 yuan3 wo3 hai2 hui2 tou2 zhang1 wang4 na4 ge5 an1 ning2 tian2 jing4 de5 xiao3 yuan4 na4 ge5 shi3 wo3 zhong1 shen1 nan2 wang4 de5 xiao3 yuan4
识别结果： 
示例 8
原文拼音： er4 yue4 si4 ri4 zhu4 jin4 xin1 xi1 men2 wai4 luo2 jia1 nian3 wang2 jia1 gang1 zhu1 zi4 qing1 wen2 xun4 te4 di4 cong2 dong1 men2 wai4 gan3 lai2 qing4 he4
识别结果： 
示例 9
原文拼音： dan1 wei4 bu2 shi4 wo3 lao3 die1 kai1 de5 ping2 shen2 me5 yao4 yi1 ci4 er4 ci4 zhao4 gu5 wo3 wo3 bu4 neng2 ba3 zi4 ji3 de5 bao1 fu5 wang3 xue2 xiao4 shuai3
识别结果： lan2
示例 10
原文拼音： dou1 yong4 cao3 mao4 huo4 ge1 bo5 zhou3 hu4 zhe5 wan3 lie4 lie4 qie4 qie4 chuan1 guo4 lan4 ni2 tang2 ban1 de5 yuan4 ba4 pao3 hui2 zi4 ji3 de5 su4 she3 qu4 le5
识别结果： 
[ModelArts Service Log]modelarts-pipe: total length: 7686
[Modelarts Service Log]Training end with return code: 0
[Modelarts Service Log]handle outputs of training job
[ModelArts Service Log]modelarts-pipe: will create log file /tmp/log/MA-01-15-18-26.log
[ModelArts Service Log]modelarts-pipe: will write log file /tmp/log/MA-01-15-18-26.log
[ModelArts Service Log]modelarts-pipe: param for max log length: 1073741824
[ModelArts Service Log]modelarts-pipe: param for whether exit on overflow: 0
[Modelarts Service Log][modelarts_logger] modelarts-pipe found
INFO:root:Using MoXing-v1.17.3-4c644d5b
INFO:root:Using OBS-Python-SDK-3.20.7
[ModelArts Service Log][INFO][2021/01/16 23:08:10]: env MA_OUTPUTS is not found, skip the outputs handler
[ModelArts Service Log]modelarts-pipe: total length: 184
[Modelarts Service Log]Training completed.
